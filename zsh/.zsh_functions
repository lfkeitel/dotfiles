maclookup() {
    # I don't call curl by itself because a normal response will not return a newline
    # but a failed response will. This removes any trailing whitespace and ensures
    # there's always a new line.
    echo $(curl -s "https://api.macvendors.com/$1")
}

sudossh() {
    ssh -t $1 sudo su
}

sys-upgrade() {
    linux_distro="$(gawk -F= '/^NAME/{print $2}' /etc/os-release 2>/dev/null | tr -d '"')"
    if [[ $linux_distro == "Ubuntu" ]]; then
        sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y
    elif [[ $linux_distro == "Fedora" ]]; then
        sudo dnf upgrade -y
    elif [[ $linux_distro == "Arch Linux" ]]; then
        sudo pacman -Syu
    elif [[ "$(uname)" == "Darwin" ]]; then
        brew upgrade
    fi
}

gogithub() {
    local repo="git@github.com:${1}.git"
    local repo_path="$GOPATH/src/github.com/${1}"
    local current_dir="$(pwd)"
    repo_path="$(dirname $repo_path)"
    mkdir -p $repo_path
    cd $repo_path
    git clone $repo
    cd $current_dir
}

better_cat() {
    [ -d "$1" ] && ls -lah "$1" && return
    cat "$1"
}
alias cat='better_cat'

CODE_DIR="$HOME/code"
code_jump() {
    if [[ -z $1 ]]; then
        find $CODE_DIR -maxdepth 1 -type d -printf "%f\n" | grep -P '\d{3}\-' | sort
    else
        cd $CODE_DIR/$1*
    fi
}
alias p='code_jump'
